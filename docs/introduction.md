### 为什么写这个项目
- 这个项目旨在提供 ansible web 多一个选择，免费开源 GPLV3 协议。
- 试着把 CD 从 CI/CD 独立出来，CI -> CD

#### 以下都是废话
从我接触 ansible 开始我就很不习惯 awx，为此我很早就想另起炉灶写个项目，不能算轮子，因为我没有参考 awx 一行代码。本身 awx 并不是在 ansible 源码上扩展开来的，从 license 就可以看出来，ansible 是 GPL协议，而 awx 是用的是 apache2.0 协议。这无形限制你定制一些功能。一开始想很多功能，做着做着发现一下子实现那么多功能，不带现实。能力一般，水平有限，索性砍掉了一半的功能。


以前看到运维们总是喜欢把 jenkins 当做发布工具，个人不怎么认同。我见到大多数做法是在 jenkins 里加个 ansible 插件，然后把 ansible-playbook 弄到 jenkins 机器上，
每次发布是从 git 仓库拉取代码，安装依赖，编译，跑测试用例或者不跑然后执行 ansible 任务。回滚做的也是同一套操作。
这样做有很多弊端，一是 ansible-playbook 管理不方便，二是回滚就是是灾难。


举个栗子：以前有开发的同事，git 的不怎么熟悉，把 dev 环境的代码合并到 master 上直接发布。
不巧 git 权限管理混乱，会写 hello world 的都能merge/rebase代码到 master 分支，一段时间内各种提交会乱不堪而且前几个版本就把一些 bug 丢上去了。根据墨菲定律所有可能发生的事必定会发生。于是服务器宕了，回滚吧，所有 feature 全部撤回，重新拉取代码，安装依赖，编译，同步代码。关编译就花费了很多时间整个过程持续二十多分钟，损失惨重。

从 eclogue 发布任务时自动生成快照，你可以在秒级回滚到任一历史版本。

**人生感想**

<p>eclogue 是我在果园里写的一个项目，没错我是货真价值一百多斤的农民~！</p>
<p>最近被逼着考公务员，说实话我天生不适合活在体制里，宁愿当个农民活在乡野，自食其力。这是我第一灰常认真的写个开源项目，前后经历了快一年时间，也可能是最后一个，也许下一秒一个 bug 没改过来一口老血吐屏幕上被 bug 带走了，谁说得准呢。但是如果我活着我会一直维护这个项目，哪怕无人问津。
Whether rich or poor,in health or sicknees,to love and cherish,as God is our witness,we will together forever.</p>

昨天下起了雨，老房子漏雨，被雨水打在身上醒了过来。侧过身子看着窗外，天色朦胧。鸡开始陆陆续续唤起来，夹杂在淅淅沥沥的雨声中。我想如果我还在工作，这样的天气我应该会找个理由翘班吧。

因为一些不方便说的原因离职快一年了，一个人呆在乡下，挺无趣的，和别人也尿不到一壶去，经常一个人发呆，到河边洗衣服都被大妈们嫌弃。写了几年代码，会那么几门编程语言。到这个年纪也挺迷茫，本来存了点钱，结果让最好的朋友给霍霍了。想着不能把编程能力给丢了，说不定哪天指着它卖身还债。农忙之余利用中午和晚上的时间写了这个项目，每天保持四五个小时 coding。


种果树真的很累，我手上水泡也不知起了多少轮，每天都有干不完的活，除不完的草，施不完的肥，杀不完的虫子（没错是活生生的 bug）。
我记得我离职的时候在朋友圈写这么两句试，日暮苍山远,春草闭闲门。但去莫复问，白云无尽时。现实是刘长卿和王维就是两个吃饱了撑的书生。行至水穷处，坐看云起时，这两货根本没有种过地，哪知农月无闲人，倾家事南亩。


回来几个月的感受遇到很多伤心事，眼看着很多亲人离去，小时辗转亲戚家里，受很多亲戚不少照顾，也没来得及报答，念及此不免伤心难过。有段时间跟以前要好的朋友发下借点钱，也没问要多少，直接给拒了，才发现所谓的友情，都是塑料，也可以理解每个人都有自己的羁绊。

说说两条狗。

邻居家的狗，秃噜皮，甚丑。路口到这有一百多米，每当有人从路口过吠个不停，不管熟人还是陌生人，只管吠，由此我特讨厌这狗。每天睡觉前我都做一件事就是下楼揍一顿这秃噜皮。每次我刚到路口它便叫，我习惯性捡起石头子砸，不论大小拿到砸。它看到我弯腰撒腿就跑，跑开几十米回头继续叫。凡是白天秃噜皮看到我，百米开外，调头就跑。为此我成了这片的狗霸。我本以为我它一叫我揍它它应该会闭嘴，出人意表，反倒变本加厉。
老酒馆有个片段，方先生和陈掌柜喝酒，掌柜的想让方先生在酒馆住下。方先生说了句话让我记忆犹新，大致意思是: “我这人一生，不烧香，不求人。在你这住下，嘴软了甜了腻了，该说的话不敢说，话到嘴边又咽回句半句，声音到舌头尖打了个卷，这比死了还难受。我在外边顶着西北风吃雪花，冰碴砸舌头，可我这张嘴硬气。”
说来这秃噜皮和方先生的倔强还有几分相似，一条姓方的独狼。


我家果园来了只狗，自来狗，我爸给收养了，我起名曰，簸箕。簸箕和秃噜皮是两个极端，簸箕像个哑巴，从来不会叫，叫谁都舔一通，附赠一堆口水。只要给吃的就跟你走。老爸说这傻狗迟早让人宰了。傍晚的时候，我在水渠边割草，簸箕坐在沟边看着对面的黄牛饶有兴致，时不时发出呜咽声。突然听到噗咚一声，簸箕惨叫了两下然后又没了，接着一阵拍水的声音噗咚噗咚，我突然想笑，听声音它肯定是掉下去了还给呛了几大口水。水渠草太厚，我根本看不到簸箕，便用镰刀切了个缺口把手伸下去，它急忙抓着我的手我一把把它拉上来。我把簸箕放到地上，它呜咽了两声，绕着我舔来舔去，甩了我一身水。我坐了下来，点了只烟。起风了，风吹着草甸起了浪，我望着对面，父亲在给果树喷农药，母亲在施肥。鱼塘的水面映着沉落的黄昏，四下寂静，可以听到蛐蛐的叫声，牛吃草的声音，真希望可以一直这样下去。簸箕打了个喷嚏，大概是水库的水太冷了，我站了起来半支烟抖落，手背微凉。簸箕啊，你可别走丢了。

2019-10-27






